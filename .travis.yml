sudo: required
dist: trusty

language: cpp

matrix:
  include:
  - addons:
      apt:
        sources: ['ubuntu-toolchain-r-test']
        packages: ['g++-7']
    env: CXX=g++-7
  - addons:
      apt:
        sources: ['ubuntu-toolchain-r-test']
        packages: ['g++-8']
    env: CXX=g++-8
  - addons:
      apt:
        sources: ['llvm-toolchain-trusty-4.0']
        packages: clang-6.0
    env: CXX=clang++-6.0

script:
  - mkdir build
  - cd build
  - cmake -DCMAKE_CXX_COMPILER=$CXX -DMOCKTURTLE_TEST=ON ..
  - make run_tests
  - ./test/run_tests
